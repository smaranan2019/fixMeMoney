gemini_prompt =  """Given:
- The columns are 'Trans Date' (date), 'Description of Transaction' (string), 'Transaction Amount' (decimal).
- Exclude 'Post' column and its values.
- Ignore 'Ref No.' only.
- Add column 'Category' (string) and categorize each row into [food, travel, apparel, transport, bills, medical expenses, subscriptions, tax, others].
Convert the following text into table data:"""

ocr_url = 'https://api.ocr.space/parse/image'

ALLOWED_EXTENSIONS_PDF = {'pdf'}

def allowed_file(filename):
    return '.' in filename and filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS_PDF

result_page_1 = 'Post Date Trans Date Description of Transaction PREVIOUS BALANCE Transaction Amount SGD 4,842.22 13 FEB 10 FEB PAYMT THRU E-BANK/HOMEB/CYBERB (EPO4) 146.00 CR 23 FEB 23 FEB PAYMT THRU E-BANK/HOMEB/CYBERB (EP38) 4,696.22 CR 12 MAR 11 MAR ONE CARD ENHANCED REBATE 61.78 CR 12 MAR 11 MAR ONE CARD ADDITIONAL REBATE 82.38 CR 12 MAR 12 MAR UOB ONE CASH REBATE BILL REDEMPTION 200.00 CR 13 FEB 09 FEB GIGA 68255000 18.33 Ref No. : 74103084040405228982698 13 FEB 10 FEB NTUC FairPrice App PaymenSINGAPORE 4.03 Ref No. : 74777154041000401512084 14 FEB 10 FEB PRIME SUPERMARKET Singapore 0.96 Ref No. : 74556224044102015577951 13 FEB 11 FEB Grab" A-6XDGF7DGWJ3X Singapore 34.80 Ref No. : 24294264042101927118896 13 FEB 11 FEB Grab* A-6XDGSUEGWJ3X Singapore 1.88 Ref No. : 24294264042101927294317 13 FEB 11 FEB NTUC FairPrice App PaymenSINGAPORE 20.74 Ref No. : 74777154042000301984085 16 FEB 15 FEB Grab* A-6XUFG4WWWFXF Singapore 14.90 Ref No. : 74777154046000214305028 17 FEB 16 FEB 7-ELEVEN-CHANGI CITY PT SINGAPORE 2.90 Ref No. : 74541834047288076249563'

result_page_2 = 'Page 2 of 7 Post Trans Description of Transaction Transaction Amount Date Date SGD 19 FEB 17 FEB 7-ELEVEN-ORCHARD MRT SINGAPORE 2.40 Ref No. : 74541834048288077130746 20 FEB 17 FEB SHOPEE SINGAPORE MP SINGAPORE 10.98 Ref No. : 74541834050288088646966 20 FEB 18 FEB DON DON DONKI - NORTHPOINSINGAPORE 4.90 Ref No. : 74541834050288080710026 20 FEB 18 FEB 7-ELEVEN-SIMEI MRT SINGAPORE 2.90 Ref No. : 74541834050288083543341 22 FEB 18 FEB BUS/MRT 392892886 SINGAPORE 1.75 Ref No. : 74541834052288084498394 21 FEB 20 FEB 7-ELEVEN-CHANGI CITY PT SINGAPORE 3.00 Ref No. : 74541834051288076069048 22 FEB 21 FEB WTROLD-TEA-HUT-CHANGI 6586988741 3.00 Ref No. : 74103084052407276313276 22 FEB 21 FEB 7-ELEVEN-SIMEI MRT SINGAPORE 2.90 Ref No. : 74541834052288076555680 24 FEB 23 FEB Grab* 3-C6EGTPAXLECXRN Singapore 7.90 Ref No. : 24294264054102233306360 24 FEB 23 FEB COMPASS GROUP JPMORG SINGAPORE 1.70 Ref No. : 74103084054407285392871 26 FEB 23 FEB MY KAMPUNG - CHANGI CITY SINGAPORE 6.80 Ref No. : 74508984054017011326390 26 FEB 23 FEB SHOPEE SINGAPORE MP SINGAPORE 15.36 Ref No. : 74541834055288080854084 26 FEB 23 FEB NTUC FairPrice App PaymenSINGAPORE 23.23 Ref No. : 74777154054000401931080 26 FEB 24 FEB SINGAPOREAIR6182450658840SINGAPORE 1,959.20 Ref No. : 74045054056920003003549 26 FEB 24 FEB CHICHA SAN CHEN - EASTPOISINGAPORE 5.60 Ref No. : 74508984055017019467146 27 FEB 24 FEB SHOPEE SINGAPORE MP SINGAPORE 14.68 Ref No. : 74541834057288089872051 29 FEB 25 FEB BUS/MRT 396349096 SINGAPORE 2.29 Ref No. : 74541834059288083650451 26 FEB 26 FEB 7-ELEVEN-CHANGI CITY PT SINGAPORE 2.90 Ref No. : 74541834057288083377255 27 FEB 26 FEB AMAR AND CO CAFFE PTE SINGAPORE 6.80 Ref No. : 74103084057408298923782'

result_page_3 = 'Page 3 of 7 Post Date Trans Date Description of Transaction Transaction Amount SGD 27 FEB 27 FEB GV TAMPINES SINGAPORE 13.50 Ref No. : 74541834058288070079947 28 FEB 27 FEB YA KUN EASTPOINT MALL Singapore 6.50 Ref No. : 74556224058102131622692 28 FEB 27 FEB MEXICAN FOOD CORP SV PTE SINGAPORE 9.00 Ref No. : 74777154058000004955078 29 FEB 28 FEB TAKAGI RAMEN-SIMEI SINGAPORE 11.50 Ref No. : 74103804059000004330672 29 FEB 28 FEB GIANT-SIMEI MRT SINGAPORE 2.75 Ref No. : 74541834059288071971489 29 FEB 28 FEB 7-ELEVEN-225 SIMEI ST 4 SINGAPORE 4.00 Ref No. : 74541834059288076681505 01 MAR 29 FEB 7-ELEVEN-CHANGI CITY PT SINGAPORE 8.50 Ref No. : 74541834060288076508986 01 MAR 01 MAR NET*VENDIT SINGAPORE 10.00 Ref No. : 74541834061288077679967 02 MAR 01 MAR 7-ELEVEN-CHANGI CITY PT SINGAPORE 11.90 Ref No. : 74541834061288076689827 02 MAR 01 MAR Grab* A-63R42R6WWEQT Singapore 17.40 Ref No. : 74777154061000108378065 09 MAR 01 MAR CHICHA SAN CHEN - WATERWASINGAPORE 23.00 Ref No. : 74508984061017064944892 09 MAR 01 MAR SUBWAY - KALLANGWAVE MALLSINGAPORE 4.00 Ref No. : 74508984061017066775245 09 MAR 02 MAR 7-ELEVEN-225 SIMEI ST 4 SINGAPORE 4.50 Ref No. : 74541834062288077877644 09 MAR 02 MAR 7-ELEVEN-225 SIMEI ST 4 SINGAPORE 1.00 Ref No. : 74541834062288077878329 11 MAR 02 MAR SHOPEE SINGAPORE MP SINGAPORE 16.99 Ref No. : 74541834069288081757116 04 MAR 03 MAR NTUC FairPrice App PaymenSINGAPORE 72.58 Ref No. : 74777154063000603063087 05 MAR 03 MAR 7-ELEVEN-SIMEI MRT SINGAPORE 2.90 Ref No. : 74541834064288084505194 07 MAR 03 MAR BUS/MRT 400160552 SINGAPORE 5.98 Ref No. : 74541834066288082730107 05 MAR 04 MAR LLAO LLAO - CCP SINGAPORE 8.90 Ref No. : 74541834064288086831333'

result_page_4 = 'Post Date Trans Date Description of Transaction Transaction Amount SGD 06 MAR 04 MAR IDATEN UDON - CHANG! CITYSINGAPORE 10.20 Ref No. : 74508984064017090714399 08 MAR 04 MAR BUS/MRT 400545157 SINGAPORE 1.09 Ref No. : 74541834067288083781355 06 MAR 05 MAR 7-ELEVEN-CHANGI CITY PT SINGAPORE 3.50 Ref No. : 74541834065288076353974 06 MAR 05 MAR insta360 camera 850.42 Ref No. : 74592724065312417465726 07 MAR 05 MAR NUODLE @ CBP Singapore 24.80 Ref No. : 74556224066102192228546 07 MAR 06 MAR 7-ELEVEN-CHANGI CITY PT SINGAPORE 4.50 Ref No. : 74541834066288076455950 07 MAR 06 MAR NTUC FairPrice App PaymenSINGAPORE 1.70 Ref No. : 74777154066000602464085 07 MAR 07 MAR LLAO LLAO - CCP SINGAPORE 8.00 Ref No. : 74541834067288077974941 08 MAR 07 MAR ANDES CHANG QLUB, SG SINGAPORE 18.90 Ref No. : 74143254067000001642509 08 MAR 07 MAR 7-ELEVEN-51 CBP CENTRAL 2SINGAPORE 6.80 Ref No. : 74541834067288073700423 09 MAR 07 MAR 7-ELEVEN-CHANGI CITY PT SINGAPORE 1.50 Ref No. : 74541834068288076919581 09 MAR 08 MAR GONGYUAN MALATANG-CCP SINGAPORE 35.75 Ref No. : 74541834068288070384626 09 MAR 08 MAR THE COFFEE BEAN-CCP SINGAPORE 4.40 Ref No. : 74541834068288072824009 09 MAR 08 MAR DAISO JAPAN - CCP SINGAPORE 2.18 Ref No. : 74541834068288076149221 09 MAR 08 MAR 7-ELEVEN-CHANGI CITY PT SINGAPORE 3.50 Ref No. : 74541834068288076920886 11 MAR 08 MAR MUYOO BAKERY SINGAPORE 7.90 Ref No. : 74508984068017120722376 11 MAR 09 MAR GIGA 68255000 18.33 Ref No. : 74103084069409363877420 11 MAR 09 MAR 7-ELEVEN-CHANGI CITY PT SINGAPORE 2.90 Ref No. : 74541834069288077650234 11 MAR 09 MAR 7-ELEVEN-CHANGI CITY PT SINGAPORE 1.00 Ref No. : 74541834069288077650291'

result_page_5 = 'Page 5 of 7 Post Trans Description of Transaction Transaction Amount Date Date SGD 11 MAR 09 MAR 7-ELEVEN-SIMEI MRT SINGAPORE 1.00 Ref No. : 74541834069288078097492 12 MAR 09 MAR SPORE SPORTS HUB-NTNL STSINGAPORE 8.50 Ref No. : 74508984070017129279523 12 MAR 09 MAR 7-ELEVEN-SIMEI MRT SINGAPORE 7.80 Ref No. : 74541834071288084724192 12 MAR 11 MAR AMAR AND CO CAFFE PTE SINGAPORE 3.60 Ref No. : 74103084071410372079822 SUB TOTAL 3,095.84 TOTAL BALANCE FOR UOB ONE CARD 3,095.84 End of Transaction Details'

